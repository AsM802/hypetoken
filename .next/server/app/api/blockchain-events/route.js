(()=>{var e={};e.id=754,e.ids=[754],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3040:(e,t,r)=>{"use strict";r.d(t,{q:()=>a});var n=r(6037),s=r.n(n);let o=process.env.MONGODB_URI,a=async()=>{if(!s().connections[0].readyState)try{await s().connect(o,{dbName:"hypetoken"}),console.log("✅ MongoDB connected")}catch(e){throw console.error("❌ MongoDB connection error:",e),Error("Database connection failed")}}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6037:e=>{"use strict";e.exports=require("mongoose")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9511:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>k,routeModule:()=>m,serverHooks:()=>g,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>x});var n={};r.r(n),r.d(n,{GET:()=>v,POST:()=>h});var s=r(6559),o=r(8088),a=r(7719),i=r(2190),c=r(3040),u=r(6037),d=r.n(u);let p=new u.Schema({type:{type:String,required:!0},fromAddress:{type:String,required:!0},toAddress:{type:String,required:!0},amountHYPE:{type:Number,required:!0},valueUSD:{type:Number,required:!0},transactionHash:{type:String,required:!0,unique:!0},timestamp:{type:Number,required:!0}}),l=u.models.BlockchainEvent||d().model("BlockchainEvent",p);async function h(e){try{await (0,c.q)();let t=await e.json();if(await l.findOne({transactionHash:t.transactionHash}))return i.NextResponse.json({message:"Event already recorded"},{status:200});let r=new l(t);return await r.save(),i.NextResponse.json({message:"Blockchain event recorded successfully"},{status:201})}catch(e){return console.error("Error recording blockchain event:",e),i.NextResponse.json({error:"Failed to record blockchain event"},{status:500})}}async function v(){try{await (0,c.q)();let e=await l.find().sort({timestamp:-1}).limit(50);return i.NextResponse.json(e)}catch(e){return console.error("Error fetching blockchain events:",e),i.NextResponse.json({error:"Failed to fetch blockchain events"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/blockchain-events/route",pathname:"/api/blockchain-events",filename:"route",bundlePath:"app/api/blockchain-events/route"},resolvedPagePath:"C:\\Users\\agniv\\Downloads\\hypetoken-main\\app\\api\\blockchain-events\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:y,workUnitAsyncStorage:x,serverHooks:g}=m;function k(){return(0,a.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:x})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[719,580],()=>r(9511));module.exports=n})();