(()=>{var e={};e.id=612,e.ids=[612],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2170:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(6037);let a=new s.Schema({email:{type:String,unique:!0,required:!0},password:{type:String,required:!0},verificationCode:{type:String}},{timestamps:!0}),o=s.models.User||(0,s.model)("User",a)},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3040:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var s=r(6037),a=r.n(s);let o=process.env.MONGODB_URI,n=async()=>{if(!a().connections[0].readyState)try{await a().connect(o,{dbName:"hypetoken"}),console.log("✅ MongoDB connected")}catch(e){throw console.error("❌ MongoDB connection error:",e),Error("Database connection failed")}}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5511:e=>{"use strict";e.exports=require("crypto")},6037:e=>{"use strict";e.exports=require("mongoose")},6487:()=>{},7262:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>m,routeModule:()=>d,serverHooks:()=>h,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{POST:()=>c});var a=r(6559),o=r(8088),n=r(7719),i=r(3040),u=r(2170),p=r(5663);async function c(e){let{email:t,password:r}=await e.json();if(await (0,i.q)(),await u.A.findOne({email:t}))return new Response("User already exists",{status:409});let s=Math.floor(1e5+9e5*Math.random()).toString(),a=await p.Ay.hash(r,10);return await u.A.create({email:t,password:a,verificationCode:s}),new Response(JSON.stringify({message:"User registered",verificationCode:s}),{status:201,headers:{"Content-Type":"application/json"}})}let d=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"C:\\Users\\agniv\\Downloads\\hypetoken-main\\app\\api\\auth\\register\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:g,serverHooks:h}=d;function m(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:g})}},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,613],()=>r(7262));module.exports=s})();