(()=>{var e={};e.id=240,e.ids=[240],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3040:(e,r,t)=>{"use strict";t.d(r,{q:()=>o});var s=t(6037),a=t.n(s);let n=process.env.MONGODB_URI,o=async()=>{if(!a().connections[0].readyState)try{await a().connect(n,{dbName:"hypetoken"}),console.log("✅ MongoDB connected")}catch(e){throw console.error("❌ MongoDB connection error:",e),Error("Database connection failed")}}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6037:e=>{"use strict";e.exports=require("mongoose")},6487:()=>{},8096:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>h,serverHooks:()=>w,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>x});var s={};t.r(s),t.d(s,{GET:()=>m});var a=t(6559),n=t(8088),o=t(7719),i=t(2190),u=t(3040),p=t(6037),d=t.n(p);let c=new p.Schema({walletAddress:{type:String,required:!0,index:!0},transactionHash:{type:String,required:!0,unique:!0},tradeType:{type:String,enum:["buy","sell"],required:!0},hypeAmount:{type:Number,required:!0},tradeValueUSD:{type:Number,required:!0},timestamp:{type:Date,default:Date.now},topAssets:[{assetName:{type:String,required:!0},valueUSD:{type:Number,required:!0}}]}),l=p.models.WhaleTrade||d().model("WhaleTrade",c);async function m(){try{await (0,u.q)();let e=await l.find().sort({timestamp:-1}).limit(50);return i.NextResponse.json(e)}catch(e){return console.error("Error fetching whale trades:",e),i.NextResponse.json({error:"Failed to fetch whale trades"},{status:500})}}let h=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/whales/route",pathname:"/api/whales",filename:"route",bundlePath:"app/api/whales/route"},resolvedPagePath:"C:\\Users\\agniv\\Downloads\\hypetoken-main\\app\\api\\whales\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:y,workUnitAsyncStorage:x,serverHooks:w}=h;function g(){return(0,o.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:x})}},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[719,580],()=>t(8096));module.exports=s})();